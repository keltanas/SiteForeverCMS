#assetic:
#    debug: %debug%
#    output: "%root%/static"
#    assets:
#        site_js:
#            output: "static/site.js"
#            input:
#                - "%sf_path%/misc/site.js"

services:
    # assetic
    assets:
        class: Sfcms\Assets

    asset.manager:
        class: Assetic\AssetManager

    asset.filter.manager:
        class: Assetic\FilterManager

    asset.factory:
        class: Assetic\Factory\AssetFactory
        arguments: ["%assetic.output%"]
        calls:
            - [setAssetManager, [@asset.manager]]
            - [setFilterManager, [@asset.filter.manager]]
            - [setDebug, [%assetic.debug%]]

    asset.writer:
        class: Assetic\AssetWriter
        arguments: ["%assetic.output%"]
        calls:
            - [writeManagerAssets, ["@asset.manager"]]

    assetic_service:
        class: Module\System\Service\AsseticService
        arguments: ["@asset.factory", "@service_container"]
